extends ./base.jade
block append style
    link(rel="stylesheet", type="text/css", href="/assets/bootstrap.min.css")
    link(rel="stylesheet", type="text/css", href="/assets/style.css")
block body
    nav.navbar.navbar-inverse
      .container
        .navbar-header
          button.navbar-toggle(type='button', data-toggle='collapse', data-target='#bs-example-navbar-collapse-1')
            span.sr-only Toggle navigation
            span.icon-bar
            span.icon-bar
            span.icon-bar
        #bs-example-navbar-collapse-1.collapse.navbar-collapse
          ul.nav.navbar-nav
            li
              a.active(href='/display') Home
          ul.nav.navbar-nav.pull-right
            li
              a(href='/profile') Profile
            li
              a(href="/logout") Log out

      
    .container
      #errorAlert
        .alert.alert-danger(role='alert')
          span#errorMessage
          
      - var complete = 0
      - var incomplete = 0
    
      h1.text-center 
        a(href='/maker') &#x271A Add Task
        
        
      - var currentDate = ""
      .panel.panel-default
        each t in tasks
          if t.completed == false
            - incomplete++
            if currentDate == "" || currentDate != t.date
              - currentDate = t.date
                .panel-heading
                  h3.panel-title #{t.date}
            ul.list-group    
              li.list-group-item(id=t._id)
                span.badge #{t.importance}
                h3.list-group-item-heading #{t.name}
                div.icons
                    span.delete
                      a(href="/removeTask/#{t._id}") &#x2716
                    span.edit
                      a(href="/editTask/#{t._id}") &#x270E
                    span.check
                      a(href="/checkTask/#{t._id}") &#x2714
      
      h2.text-center Total Tasks Remaining: #{incomplete}
      
      .panel.panel-default
        ul.list-group    
          li.list-group-item
            each completedTask in tasks
              if completedTask.completed == true
                - complete++
                h4.list-group-item-heading #{completedTask.name}
        .panel-heading
          h3.panel-title Total Tasks Completed: #{complete}
      

block scripts
  script(src="/assets/maker.js")
  
  
